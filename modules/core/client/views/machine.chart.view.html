
<div ng-controller="MachineChartController">
     <div style="height: 55px;background: #fbfcfd;top: 4px;position: relative;" >
        <ul style="position: absolute;left: 43%">
            <li ng-repeat="year in tabs" style="list-style: none;float: left">
                <md-button ng-click="yearSelected(year.title)">{{year.title}}</md-button>
            </li>
        </ul>
     <div>       
    <div class="row"  ng-init="chartInit()"
    style="top: 30px;padding-top:30px;position: absolute; width: 100%; background: #fbfcfd;margin-right: 0px;margin-left: 0px">
   
    <div class="col-md-3" style="border-right: 1px solid #e2e2e2;width: 15%;height: 580px">
        <div style="width: 150px; background: #fbfcfd;position: absolute;">
            <table style="left: 25%;position: absolute; border-collapse: separate;border-spacing: 0 0em;">
                <tr>
                     <td>
                        <ul>
                            <li style="list-style-type: none;cursor: pointer">
                                <a  style="cursor: pointer" ng-click="goToLive()">Live</a>
                            </li>
                        </ul>
                    </td>
                </tr>
                <tr>
                   <td>
                        <ul>
                            <li style="color: blue;list-style-type: disc;font-size: 15px">
                                <a style="color: blue">Historic</a>
                            </li>
                        </ul>
                    </td>
                </tr>
                <!--<tr>
                    <td>
                        <span>Send Entire Report</span>
                    </td>
                </tr>
                <tr>
                    <td>
                        <span>Email</span>
                    </td>
                </tr>
                <tr>
                    <td>
                        <span>Copy Link</span>
                    </td>
                </tr>
                <tr>
                    <td>
                        <span>Save as PDF</span>
                    </td>
                </tr>-->
            </table>         
        </div>
    </div>
    <div class="col-md-6" style="margin-left: 30px">
        <div style="top:-20px;position: absolute">
            <img id="backImage" style="height: 20px" ng-src="./modules/core/client/img/back.png" ng-click="goToMonths()" ></img>
        </div>
        <div id="containerChart" style="width: 100%;background: white;height: 365px;
                 box-shadow: 0 4px 16px -2px rgba(0,0,0,.1), 0 0 0 1px rgba(0,0,0,.02);">    
         <div layout="row" layout-sm="column" layout-align="space-around" style="top:200px;right:150px;position: absolute">
             <md-progress-circular md-mode="determinate" value="{{determinateValue}}"></md-progress-circular>
        </div>
        </div>
        <div id="flowContainer" style="height: 200px;box-shadow: 0 4px 16px -2px rgba(0,0,0,.1), 0 0 0 1px rgba(0,0,0,.02);">
        </div>
    </div>
    <div id="carouselContainer" class="col-md-3" style="top:20px;width: 30%" ng-show="isTableVisible == true?true:false">
        <div id="dataCarousel" class="carousel" data-flickity='{ "groupCells": false }' 
            style="background: white;margin: -20px" ng-controller="MachineChartController">
            <div ng-repeat="chartData in chartClickData" >
                <div id='dataResultCard' style='width:320px;max-width:100%;position: relative; border: 1px solid #e2e2e2;margin:10px;border-radius: 5px'>   
                    <table class="table table-bordered table-striped">
                        <thead>
                        <tr>
                            <th>Days</th>
                            <th>D0</th>
                            <th>D1</th>
                            <th>D2</th>
                        </tr>    
                        <tr>
                            <th sortable="code" class="sortable">
                                Day {{chartData.day[0]}}
                            </th>
                            <td>{{chartData.totalEnergy[0].avg_d0.toFixed(2)}}</td>
                            <td>{{chartData.totalEnergy[0].avg_d1.toFixed(2)}}</td>
                            <td>{{chartData.totalEnergy[0].avg_d2.toFixed(2)}}</td>
                    </tr>
                    <tr>
                            <th sortable="placed" class="sortable">
                                Day {{chartData.day[1]}}
                            </th>
                            <td>{{chartData.totalEnergy[1].avg_d0.toFixed(2)}}</td>
                            <td>{{chartData.totalEnergy[1].avg_d1.toFixed(2)}}</td>
                            <td>{{chartData.totalEnergy[1].avg_d2.toFixed(2)}}</td>
                    </tr>
                    </tr>
                    <tr>
                            <th sortable="placed" class="sortable">
                                Day {{chartData.day[2]}}
                            </th>
                        <td>{{chartData.totalEnergy[2].avg_d0.toFixed(2)}}</td>
                            <td>{{chartData.totalEnergy[2].avg_d1.toFixed(2)}}</td>
                            <td>{{chartData.totalEnergy[2].avg_d2.toFixed(2)}}</td>
                    </tr>
                    </tr>
                    <tr ng-show="chartData.day[3] == ''?false:true">     
                            <th sortable="placed" class="sortable" >
                                Day {{chartData.day[3]}}
                            </th>
                            <td>{{chartData.totalEnergy[3].avg_d0.toFixed(2)}}</td>
                            <td>{{chartData.totalEnergy[3].avg_d1.toFixed(2)}}</td>
                            <td>{{chartData.totalEnergy[3].avg_d2.toFixed(2)}}</td>
                    </tr>
                    </tr>
                    <tr ng-show="chartData.day[4] == ''?false:true">     
                            <th sortable="placed" class="sortable">
                                Day {{chartData.day[4]}}
                            </th>
                        <td>{{chartData.totalEnergy[4].avg_d0.toFixed(2)}}</td>
                            <td>{{chartData.totalEnergy[4].avg_d1.toFixed(2)}}</td>
                            <td>{{chartData.totalEnergy[4].avg_d2.toFixed(2)}}</td>
                    </tr>
                    </tr>
                    <tr ng-show="chartData.day[5] == ''?false:true">     
                            <th sortable="placed" class="sortable">
                                Day {{chartData.day[5]}}
                            </th>
                            <<td>{{chartData.totalEnergy[5].avg_d0.toFixed(2)}}</td>
                            <td>{{chartData.totalEnergy[5].avg_d1.toFixed(2)}}</td>
                            <td>{{chartData.totalEnergy[5].avg_d2.toFixed(2)}}</td>
                    </tr>
                    </tr>
                    <tr ng-show="chartData.day[6] == ''?false:true">     
                            <th sortable="placed" class="sortable">
                                Day {{chartData.day[6]}}
                            </th> 
                            <td>{{chartData.totalEnergy[6].avg_d0.toFixed(2)}}</td>
                            <td>{{chartData.totalEnergy[6].avg_d1.toFixed(2)}}</td>
                            <td>{{chartData.totalEnergy[6].avg_d2.toFixed(2)}}</td>
                    </tr>       
                        </tr>
                        </thead>
                        <tbody>
                        <tr grid-item>
                            <td ng-bind="chartData.totalEnergy[0]"></td>
                            <td ng-bind="chartData.totalEnergy[1]"></td>
                            <td ng-bind="chartData.totalEnergy[2]"></td>
                            <td ng-bind="chartData.totalEnergy[3]"></td>
                            <td ng-bind="chartData.totalEnergy[4]"></td>
                            <td ng-bind="chartData.totalEnergy[5]"></td>
                            <td ng-bind="chartData.totalEnergy[6]"></td>             
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
   <!-- End carousel -->     
    </div>    
    </div>
</div>   
<script src="https://unpkg.com/flickity@2.0/dist/flickity.pkgd.min.js"></script>
